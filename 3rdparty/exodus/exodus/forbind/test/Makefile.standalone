# Copyright (c) 2005 Sandia Corporation. Under the terms of Contract
# DE-AC04-94AL85000 with Sandia Corporation, the U.S. Government
# retains certain rights in this software.
# 
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions are
# met:
# 
#     * Redistributions of source code must retain the above copyright
#       notice, this list of conditions and the following disclaimer.
# 
#     * Redistributions in binary form must reproduce the above
#       copyright notice, this list of conditions and the following
#       disclaimer in the documentation and/or other materials provided
#       with the distribution.  
# 
#     * Neither the name of Sandia Corporation nor the names of its
#       contributors may be used to endorse or promote products derived
#       from this software without specific prior written permission.
# 
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
# "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
# A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
# 


EXOIITEST = -L../.. -lexoIIv2for -lexodus
LOCALEXO = ../../libexoIIv2for.a ../../libexodus.a
LIBS = $(LOCALEXO) $(NETCDF_LIB)

PROGS = testwt testwtd testrd testrd1 testrdd testwt1 testwt2 testwtm testcp testcpnl testcpln testwt_nsid testrd_nsid test_nem

all:: check

testwt::     testwt.o     $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)     testwt.o   $(LIBS) $(LDFLAGS) 

testwtd::    testwtd.o    $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)    testwtd.o   $(LIBS) $(LDFLAGS) 

testrd::     testrd.o     $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)     testrd.o   $(LIBS) $(LDFLAGS) 

testrd1::    testrd1.o    $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)    testrd1.o   $(LIBS) $(LDFLAGS) 

testrdd::    testrdd.o    $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)    testrdd.o   $(LIBS) $(LDFLAGS) 

testwt1::    testwt1.o    $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)    testwt1.o   $(LIBS) $(LDFLAGS) 

testwt2::    testwt2.o    $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)    testwt2.o   $(LIBS) $(LDFLAGS) 

testwtm::    testwtm.o    $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)    testwtm.o   $(LIBS) $(LDFLAGS) 

testcp::     testcp.o     $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)     testcp.o   $(LIBS) $(LDFLAGS) 

testcpnl::   testcpnl.o   $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)   testcpnl.o   $(LIBS) $(LDFLAGS) 

testcpln::   testcpln.o   $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)   testcpln.o   $(LIBS) $(LDFLAGS) 

testwt_nsid::  testwt_nsid.o   $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)  testwt_nsid.o   $(LIBS) $(LDFLAGS) 

testrd_nsid::  testrd_nsid.o   $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)  testrd_nsid.o   $(LIBS) $(LDFLAGS) 

test_nem::   test_nem.o   $(LOCALEXO)
	$(FC) -o $@ $(FFLAGS)   test_nem.o   $(LIBS) $(LDFLAGS) 

test:  check
check: $(PROGS)
	csh ./testall.standalone ${NCDUMP}

clean::
	rm -f *.res $(PROGS)

clean::
	rm -f *.exo

clean::
	rm -f test.output

clean::
	rm -f  *.CKP *.ln *.BAK *.bak *.o *.M *.mod core errs ,* *~ *.a .emacs_* tags TAGS make.log MakeOut   "#"*

.SUFFIXES: .F .f .c
.c.o:
	$(CC) -c $(CFLAGS) $*.c
.f.o:
	$(FC) -c $(FFLAGS) $*.f
.F.o:
	$(FC) -c $(DEFINES) $(FFLAGS) $*.F

# ----------------------------------------------------------------------
# dependencies generated by makedepend or sfmakedepend

